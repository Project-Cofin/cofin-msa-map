{"ast":null,"code":"import { createAsyncThunk, createSlice } from '@reduxjs/toolkit'; // import { userAPI } from 'features/map/';\n\nconst userJoinPage = async x => {\n  const res = await userAPI.userJoin(x);\n  return res.data;\n};\n\nconst EXIST = async x => {\n  const res = await userAPI.exist(x);\n  return res.data;\n};\n\n_c = EXIST;\n\nconst userDetailPage = async x => {\n  const res = await userAPI.userDetail(x);\n  return res.data;\n};\n\nconst userListPage = async ({\n  page\n}) => {\n  const res = await userAPI.userList(page);\n  return res.data;\n};\n\nconst userLoginPage = async x => {\n  const res = await userAPI.userLogin(x);\n  return res.data;\n};\n\nconst userModifyPage = async x => {\n  const res = await userAPI.userModify(x);\n  return res.data;\n};\n\nconst userRemovePage = async x => {\n  const res = await userAPI.userRemove(x);\n  return res.data;\n};\n\nexport const joinPage = createAsyncThunk('users/join', userJoinPage);\nexport const exist = createAsyncThunk('users/exist', EXIST);\nexport const detailPage = createAsyncThunk('users/dtail', userDetailPage);\nexport const listPage = createAsyncThunk('users/list', userListPage);\nexport const loginPage = createAsyncThunk('users/login', userLoginPage);\nexport const modifyPage = createAsyncThunk('users/modify', userModifyPage);\nexport const removePage = createAsyncThunk('users/remove', userRemovePage); // export const logout = () => {\n// window.localStorage.setItem('sessionUser','')\n// window.location.href='/home'\n// }\n\nconst changeNull = ls => {\n  for (const i of ls) {\n    document.getElementById(i).value = '';\n  }\n};\n\nconst mapSlice = createSlice({\n  name: 'maps',\n  initialState: {\n    mapState: {\n      id: '',\n      type: '',\n      shortName: '',\n      name: '',\n      lat: '',\n      long: '',\n      population: '',\n      cases: '',\n      medPointIdId\n    },\n    mapsState: [],\n    type: '',\n    keyword: '',\n    params: {}\n  },\n  reducers: {},\n  extraReducers: {\n    [joinPage.fulfilled]: (state, action) => {\n      state.userState = action.payload;\n      window.location.href = `/login`;\n    },\n    [exist.fulfilled]: (state, action) => {\n      if (action.payload) {\n        window.location.href = '/add';\n      } else {\n        alert(`사용가능함`);\n      }\n    },\n    [detailPage.fulfilled]: (state, {\n      meta,\n      payload\n    }) => {\n      state.userState = payload;\n    },\n    [listPage.fulfilled]: (state, {\n      meta,\n      payload\n    }) => {\n      state.usersState = payload;\n    },\n    [loginPage.fulfilled]: (state, {\n      meta,\n      payload\n    }) => {\n      state.userState = payload;\n      window.localStorage.setItem('sessionUser', JSON.stringify(payload));\n\n      if (payload.username != null) {\n        alert(`${payload.name}님 환영합니다`);\n        window.location.href = `/detail`;\n      } else {\n        alert('아이디, 비번 오류로 로그인 실패  ');\n        changeNull(['username', 'password']);\n      }\n    },\n    [modifyPage.fulfilled]: (state, action) => {\n      // state.userState = action.payload \n      alert(`회원 정보 수정 성공 ${action.data}`);\n      window.localStorage.setItem('sessionUser', JSON.stringify(action.payload));\n      window.location.href = `/detail`;\n    },\n    [removePage.fulfilled]: (state, {\n      meta,\n      payload\n    }) => {\n      window.localStorage.removeItem('sessinUser');\n      window.localStorage.clear();\n      window.location.href = '/home';\n    }\n  }\n});\nexport const currentMapState = state => state.maps.mapState;\nexport const currentMapsState = state => state.maps.mapsState;\nexport const currentMapParam = state => state.maps.param;\nexport default mapSlice.reducer;\n\nvar _c;\n\n$RefreshReg$(_c, \"EXIST\");","map":{"version":3,"sources":["C:/Users/bitcamp/ai-work/cofin-msa-organ/frontend/src/features/map/reducer/mapSlice.js"],"names":["createAsyncThunk","createSlice","userJoinPage","x","res","userAPI","userJoin","data","EXIST","exist","userDetailPage","userDetail","userListPage","page","userList","userLoginPage","userLogin","userModifyPage","userModify","userRemovePage","userRemove","joinPage","detailPage","listPage","loginPage","modifyPage","removePage","changeNull","ls","i","document","getElementById","value","mapSlice","name","initialState","mapState","id","type","shortName","lat","long","population","cases","medPointIdId","mapsState","keyword","params","reducers","extraReducers","fulfilled","state","action","userState","payload","window","location","href","alert","meta","usersState","localStorage","setItem","JSON","stringify","username","removeItem","clear","currentMapState","maps","currentMapsState","currentMapParam","param","reducer"],"mappings":"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","sourcesContent":["import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\r\n// import { userAPI } from 'features/map/';\r\n\r\nconst userJoinPage = async (x) => {\r\n   const res = await userAPI.userJoin(x)\r\n   return res.data\r\n}\r\nconst EXIST = async (x) => {\r\n  const res = await userAPI.exist(x)\r\n  return res.data\r\n}\r\nconst userDetailPage = async (x) => {\r\n  const res = await userAPI.userDetail(x)\r\n  return res.data\r\n}\r\nconst userListPage = async ({page}) => {\r\n  const res = await userAPI.userList(page)\r\n  return res.data\r\n}\r\nconst userLoginPage = async (x) => {\r\n  const res = await userAPI.userLogin(x) \r\n  return res.data\r\n}\r\nconst userModifyPage = async (x) => {\r\n  const res = await userAPI.userModify(x)\r\n  return res.data\r\n}\r\nconst userRemovePage = async (x) => {\r\n  const res = await userAPI.userRemove(x)\r\n  return res.data\r\n}\r\n\r\nexport const joinPage = createAsyncThunk('users/join', userJoinPage)\r\nexport const exist = createAsyncThunk('users/exist', EXIST)\r\nexport const detailPage = createAsyncThunk('users/dtail', userDetailPage)\r\nexport const listPage = createAsyncThunk('users/list', userListPage)\r\nexport const loginPage = createAsyncThunk('users/login', userLoginPage)\r\nexport const modifyPage = createAsyncThunk('users/modify', userModifyPage)\r\nexport const removePage = createAsyncThunk('users/remove', userRemovePage)\r\n// export const logout = () => {\r\n  // window.localStorage.setItem('sessionUser','')\r\n  // window.location.href='/home'\r\n// }\r\n\r\nconst changeNull = ls =>{\r\n  for(const i of ls ){\r\n    document.getElementById(i).value = ''\r\n  }\r\n}\r\nconst mapSlice = createSlice({\r\n  name: 'maps',\r\n  initialState: {\r\n    mapState: {\r\n      id:'', type:'', shortName:'', name:'', lat: '', long: '', population: '', cases: '', medPointIdId\r\n    },\r\n    mapsState: [],\r\n    type: '',\r\n    keyword: '',\r\n    params: {}\r\n  },\r\n  reducers: {},\r\n  extraReducers: {\r\n    [joinPage.fulfilled]: ( state, action ) => { \r\n      state.userState = action.payload \r\n      window.location.href = `/login`\r\n    },\r\n    [exist.fulfilled]: ( state, action ) => { \r\n      if(action.payload){window.location.href='/add'}\r\n      else{ alert(`사용가능함`) }\r\n    },\r\n    [detailPage.fulfilled]: ( state, {meta, payload} ) => { state.userState = payload },\r\n    [listPage.fulfilled]: ( state, {meta, payload} ) => { state.usersState = payload },\r\n    [loginPage.fulfilled]: ( state, {meta, payload} ) => {\r\n      state.userState = payload\r\n      window.localStorage.setItem('sessionUser', JSON.stringify(payload))\r\n      if(payload.username != null){\r\n        alert(`${payload.name}님 환영합니다`)\r\n        window.location.href = `/detail`\r\n      }else{\r\n        alert('아이디, 비번 오류로 로그인 실패  ')\r\n        changeNull(['username','password'])\r\n      }\r\n    },\r\n    [modifyPage.fulfilled]: ( state, action ) => { \r\n      // state.userState = action.payload \r\n      alert(`회원 정보 수정 성공 ${action.data}`)\r\n      window.localStorage.setItem('sessionUser', JSON.stringify(action.payload))\r\n      window.location.href = `/detail`\r\n    },\r\n    [removePage.fulfilled]: ( state, {meta, payload }) => { \r\n      window.localStorage.removeItem('sessinUser')\r\n      window.localStorage.clear()\r\n      window.location.href = '/home'\r\n    }\r\n  }\r\n\r\n})\r\nexport const currentMapState = state => state.maps.mapState\r\nexport const currentMapsState = state => state.maps.mapsState\r\nexport const currentMapParam = state => state.maps.param\r\nexport default mapSlice.reducer;\r\n"]},"metadata":{},"sourceType":"module"}